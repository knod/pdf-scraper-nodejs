// One test
// Run in command prompt from root folder with:
// node test

// IMPORTS
const {pdfToText} = require('./pdfToText.js');


// CODE

// Change this to whatever filepath you want
let pathToPDFs = [
  'data-cpCP-67-CR-0008224-2015-docket.pdf',
  'data-cpCP-67-CR-0008224-2015-summary.pdf'
];

let onPageDone = function () {};  // don't want to do anything between pages
let count = 1;
let onFinish = function(fullText){
  let passes = false;
  if (count === 1) {
    passes = fullText === "COURT OF COMMON PLEAS OF YORK COUNTY  DOCKET\r\nDocket Number: CP-67-CR-0008224-2015\r\nCourt Case CRIMINAL DOCKET\r\nPage 1 of 6 Commonwealth of Pennsylvania\r\nv.\r\nAdam M Davis\r\nCASE INFORMATION\r\nDate Filed :  12/18/2015 Judge Assigned :  Bortner, Michael E. Initiation Date : 11  /18/2015 OTN :  T   727600-6 Originating Docket No :  MJ-19309-CR-0000487-2015\r\nLOTN :  Initial Issuing Authority :  Mr. J. Bruce King Final Issuing Authority :  Mr. J. Bruce King\r\nArresting Agency :  Newberry Twp Police Dept Arresting Officer :  Lutz, Steven D.\r\nComplaint/Incident # :  20151117 M7471\r\nCase Local Number Type (s) Case Local Number(s)\r\nSTATUS INFORMATION\r\nCase Status : Closed Arrest Date: 11/18/2015\r\nProcessing Status Status Date\r\n04/12/2016\r\nSentenced/Penalty Imposed\r\n04/12/2016\r\nAwaiting Sentencing\r\n02/02/2016\r\nAwaiting Pre-Trial Conference\r\n12/18/2015\r\nAwaiting Formal Arraignment\r\n12/18/2015\r\nAwaiting Filing of Information\r\n11/18/2015 Complaint Date:\r\nCALENDAR EVENTS\r\nSchedule\r\nStatus Judge Name Room Start\r\nTime Schedule Start Date Case Calendar Event Type\r\n01/22/2016  9:00 am\r\nMultipurpose Room 5009 Judge Michael E. Bortner Scheduled Arraignment\r\n04/12/2016  9:00 am Courtroom 7002 Judge Michael E. Bortner Scheduled\r\nPre- Trial Conference\r\nDEFENDANT INFORMATION\r\nDate Of Birth:\r\n04/12/1990\r\nCity/State/Zip:   Etters, PA  17319\r\nAlias Name\r\nDavis, Adam\r\nDavis, Adam Michael\r\nCASE PARTICIPANTS\r\nName Participant Type\r\nDefendant\r\nDavis, Adam M.\r\nBAIL INFORMATION\r\nDavis, Adam M.\r\nNebbia Status:  None\r\nBail Action Date Bail Type Amount Percentage\r\nBail Posting Status Posting Date\r\n$0.00 ROR 12/16/2015 Set\r\nPrinted:  06/27/2019    Recent entries made in the court filing offices may not be immediately reflected on these docket sheets . Neither the courts of the Unified Judicial System of the Commonwealth of Pennsylvania nor the Administrative Office of Pennsylvania Courts assume any liability for inaccurate or delayed data, errors or omissions on these reports.  Docket Sheet information should not be used in place of a criminal history background check which can only be provided by the Pennsylvania State Police.  Moreover an employer who does not comply with the provisions of the Criminal History Record Information Act may be subject to civil liability as set forth in 18 Pa.C.S. Section 9183. CPCMS 9082\n\nCOURT OF COMMON PLEAS OF YORK COUNTY  DOCKET\r\nDocket Number: CP-67-CR-0008224-2015\r\nCourt Case CRIMINAL DOCKET\r\nPage 2 of 6 Commonwealth of Pennsylvania\r\nv.\r\nAdam M Davis\r\nCHARGES\r\nSeq. Statute Description Grade Statute OTN Offense Dt . Orig Seq.\r\nOther Reason Access Device Is Unauth By Issuer T 727600-6 M1 01/05/2015  1  1\r\n18 § 4106 §§ A1IV\r\nBad Checks T 727600-6 M3 01/05/2015  2  2\r\n18 § 4105 §§ A1\r\nDISPOSITION SENTENCING/ PENALTIES\r\nDisposition\r\nDisposition Date Final Disposition Case Event\r\nSequence/Description Section\r\nOffense Disposition Grade\r\nSentence Date Sentencing Judge\r\nCredit For Time Served\r\nIncarceration/Diversionary Period Start Date Sentence/ Diversion Program Type\r\nSentence Conditions\r\nWaived for Court (Lower Court)                    Defendant Was Present\r\n12/16/2015 Not Final Lower Court Disposition\r\n1 / Other Reason Access Device Is Unauth By Issuer Waived for Court (Lower Court)\r\n18 § 4106 §§ A1IV  M1\r\n2 / Bad Checks Waived for Court (Lower Court)\r\n18 § 4105 §§ A1  M3\r\nProceed to Court                    Defendant Was Not Present\r\n01/13/2016 Not Final Information Filed\r\n1 / Other Reason Access Device Is Unauth By Issuer Held for Court\r\n18 § 4106 §§ A1IV  M1\r\n2 / Bad Checks Held for Court\r\n18 § 4105 §§ A1  M3\r\nGuilty Plea - Negotiated                    04/12/2016 Final Disposition Pre-Trial Conference\r\n1 / Other Reason Access Device Is Unauth By Issuer Guilty Plea - Negotiated\r\n18 § 4106 §§ A1IV  M1\r\nBortner, Michael E.\r\n04/12/2016\r\nMin of 12.00 Months Max of 12.00 Months 12 months Probation\r\nTo pay such costs/restitution as has been imposed.\r\nComplete Drug/Alcohol Evaluation\r\n2 / Bad Checks Nolle Prossed\r\n18 § 4105 §§ A1  M3\r\nBortner, Michael E.\r\n04/12/2016\r\nPrinted:  06/27/2019    Recent entries made in the court filing offices may not be immediately reflected on these docket sheets . Neither the courts of the Unified Judicial System of the Commonwealth of Pennsylvania nor the Administrative Office of Pennsylvania Courts assume any liability for inaccurate or delayed data, errors or omissions on these reports.  Docket Sheet information should not be used in place of a criminal history background check which can only be provided by the Pennsylvania State Police.  Moreover an employer who does not comply with the provisions of the Criminal History Record Information Act may be subject to civil liability as set forth in 18 Pa.C.S. Section 9183. CPCMS 9082\n\nCOURT OF COMMON PLEAS OF YORK COUNTY  DOCKET\r\nDocket Number: CP-67-CR-0008224-2015\r\nCourt Case CRIMINAL DOCKET\r\nPage 3 of 6 Commonwealth of Pennsylvania\r\nv.\r\nAdam M Davis\r\nCOMMONWEALTH INFORMATION\r\nName: York County District Attorney's Office\r\nProsecutor\r\nSupreme Court No:\r\nPhone Number(s):\r\n717-771-9600 (Phone)\r\nAddress:\r\nYork County Courthouse\r\n45 North George St.\r\nYork , PA  17401 ATTORNEY INFORMATION\r\nName: Eric Wayne White\r\nPublic Defender\r\n317171\r\nSupreme Court No:\r\nActive\r\nRep. Status:\r\nPhone Number(s):\r\n717-771-9217 (Phone)\r\nAddress:\r\nYork County Pd 's Office\r\n45 N George St Fl 3\r\nYork , PA  17401\r\nRepresenting: Davis, Adam M. ENTRIES\r\nCP Filed Date Sequence Number Document Date Filed By\r\n12/16/2015 1 King, J. Bruce\r\nBail Set - Davis, Adam M.\r\n12/18/2015 1 Court of Common Pleas - York County\r\nOriginal Papers Received from Lower Court\r\n01/13/2016 1 Commonwealth of Pennsylvania\r\nInformation Filed\r\n02/02/2016 01/22/2016 2 Court of Common Pleas - York County\r\nArraigned\r\n02/02/2016 01/22/2016 3 White, Eric Wayne\r\nEntry of Appearance\r\n04/12/2016 1 Bortner, Michael E.\r\nGuilty Plea - Negotiated\r\n04/12/2016 2 Bortner, Michael E.\r\nOrder - Sentence/Penalty Imposed\r\n04/21/2016 1 Court of Common Pleas - York County\r\nPenalty Assessed\r\n04/27/2016 1 O'Shell, Don R.\r\nEntry of Civil Judgment\r\nPrinted:  06/27/2019    Recent entries made in the court filing offices may not be immediately reflected on these docket sheets . Neither the courts of the Unified Judicial System of the Commonwealth of Pennsylvania nor the Administrative Office of Pennsylvania Courts assume any liability for inaccurate or delayed data, errors or omissions on these reports.  Docket Sheet information should not be used in place of a criminal history background check which can only be provided by the Pennsylvania State Police.  Moreover an employer who does not comply with the provisions of the Criminal History Record Information Act may be subject to civil liability as set forth in 18 Pa.C.S. Section 9183. CPCMS 9082\n\nCOURT OF COMMON PLEAS OF YORK COUNTY  DOCKET\r\nDocket Number: CP-67-CR-0008224-2015\r\nCourt Case CRIMINAL DOCKET\r\nPage 4 of 6 Commonwealth of Pennsylvania\r\nv.\r\nAdam M Davis\r\nENTRIES\r\nCP Filed Date Sequence Number Document Date Filed By\r\n07/13/2016 1 York County Court Administration\r\nProof of Service 04/12/16 Order MEB\r\n10/20/2017 1 Court of Common Pleas - York County\r\nPenalty Satisfied\r\n08/22/2018 1\r\nCourt of Common Pleas - York County\r\nO'Shell, Don R.\r\nPraecipe to Satisfy Judgment\r\nPrinted:  06/27/2019    Recent entries made in the court filing offices may not be immediately reflected on these docket sheets . Neither the courts of the Unified Judicial System of the Commonwealth of Pennsylvania nor the Administrative Office of Pennsylvania Courts assume any liability for inaccurate or delayed data, errors or omissions on these reports.  Docket Sheet information should not be used in place of a criminal history background check which can only be provided by the Pennsylvania State Police.  Moreover an employer who does not comply with the provisions of the Criminal History Record Information Act may be subject to civil liability as set forth in 18 Pa.C.S. Section 9183. CPCMS 9082\n\nCOURT OF COMMON PLEAS OF YORK COUNTY  DOCKET\r\nDocket Number: CP-67-CR-0008224-2015\r\nCourt Case CRIMINAL DOCKET\r\nPage 5 of 6 Commonwealth of Pennsylvania\r\nv.\r\nAdam M Davis\r\nCASE FINANCIAL INFORMATION\r\n08/22/2018\r\nTotal of Last Payment :  -$88.80  Last Payment Date:\r\nTotal Non Monetary Payments Adjustments Payments Assessment Davis, Adam M.\r\nDefendant\r\nCosts/Fees\r\n$4.00 ($4.00) $0.00 $0.00 $0.00 ATJ\r\n$300.00 ($300.00) $0.00 $0.00 $0.00 Booking Center Fee (York)\r\n$2.25 ($2.25) $0.00 $0.00 $0.00 CJES\r\n$10.15 ($10.15) $0.00 $0.00 $0.00 Commonwealth Cost - HB627 (Act 167 of 1992)\r\n$50.00 ($50.00) $0.00 $0.00 $0.00 Costs of Prosecution - CJEA\r\n$33.00 ($33.00) $0.00 $0.00 $0.00 County Court Cost (Act 204 of 1976)\r\n$35.00 ($35.00) $0.00 $0.00 $0.00 Crime Victims Compensation (Act 96 of 1984)\r\n$10.00 ($10.00) $0.00 $0.00 $0.00 Domestic Violence Compensation (Act 44 of 1988)\r\n$5.00 ($5.00) $0.00 $0.00 $0.00 Firearm Education and Training Fund\r\n$21.25 ($21.25) $0.00 $0.00 $0.00 JCPS\r\n$8.00 ($8.00) $0.00 $0.00 $0.00 Judicial Computer Project\r\n$11.85 ($11.85) $0.00 $0.00 $0.00 State Court Costs (Act 204 of 1976)\r\n$25.00 ($25.00) $0.00 $0.00 $0.00 Victim Witness Service (Act 111 of 1998)\r\n$5.00 ($5.00) $0.00 $0.00 $0.00 Automation Fee (York)\r\n$163.50 ($163.50) $0.00 $0.00 $0.00 Clerk - County - Plea (York)\r\n$15.00 ($15.00) $0.00 $0.00 $0.00 DA Misdemeanor (York)\r\n$12.40 ($12.40) $0.00 $0.00 $0.00 Postage (York)\r\n$2.00 ($2.00) $0.00 $0.00 $0.00 Sheriff - Misdemeanor (York)\r\n$28.00 ($28.00) $0.00 $0.00 $0.00 Variable Amount to be Distributed CVC/VWS (Act 96)\r\n$12.00 ($12.00) $0.00 $0.00 $0.00 Variable Amount to be Distributed CVC/VWS (Act 96)\r\n$55.00 ($55.00) $0.00 $0.00 $0.00 Prothonotary Filing Fee (York)\r\n$28.15 ($28.15) $0.00 $0.00 $0.00 Constable Costs (York)\r\n$5.00 ($5.00) $0.00 $0.00 $0.00 Constable Education Training Act\r\n$7.25 ($7.25) $0.00 $0.00 $0.00 Postage - MDJ (York)\r\n$330.00 ($330.00) $0.00 $0.00 $0.00 OSP (York/State) (Act 35 of 1991)\r\n$330.00 ($330.00) $0.00 $0.00 $0.00 OSP (York/State) (Act 35 of 1991)\r\n$1,508.80 $0.00 $0.00 $0.00 ($1,508.80)\r\nCosts/ Fees Totals :\r\nRestitution\r\nPrinted:  06/27/2019    Recent entries made in the court filing offices may not be immediately reflected on these docket sheets . Neither the courts of the Unified Judicial System of the Commonwealth of Pennsylvania nor the Administrative Office of Pennsylvania Courts assume any liability for inaccurate or delayed data, errors or omissions on these reports.  Docket Sheet information should not be used in place of a criminal history background check which can only be provided by the Pennsylvania State Police.  Moreover an employer who does not comply with the provisions of the Criminal History Record Information Act may be subject to civil liability as set forth in 18 Pa.C.S. Section 9183. CPCMS 9082\n\nCOURT OF COMMON PLEAS OF YORK COUNTY  DOCKET\r\nDocket Number: CP-67-CR-0008224-2015\r\nCourt Case CRIMINAL DOCKET\r\nPage 6 of 6 Commonwealth of Pennsylvania\r\nv.\r\nAdam M Davis\r\nCASE FINANCIAL INFORMATION\r\nTotal Non Monetary Payments Adjustments Payments Assessment Davis, Adam M.\r\nDefendant\r\n$400.00 ($400.00) $0.00 $0.00 $0.00 Restitution\r\n$400.00 $0.00 $0.00 $0.00 ($400.00)\r\nRestitution Totals :\r\nGrand Totals : $1,908.80 $0.00 $0.00 $0.00 ($1,908.80)\r\n** - Indicates assessment is subrogated\r\nPrinted:  06/27/2019    Recent entries made in the court filing offices may not be immediately reflected on these docket sheets . Neither the courts of the Unified Judicial System of the Commonwealth of Pennsylvania nor the Administrative Office of Pennsylvania Courts assume any liability for inaccurate or delayed data, errors or omissions on these reports.  Docket Sheet information should not be used in place of a criminal history background check which can only be provided by the Pennsylvania State Police.  Moreover an employer who does not comply with the provisions of the Criminal History Record Information Act may be subject to civil liability as set forth in 18 Pa.C.S. Section 9183. CPCMS 9082\n\n"

  } else {
    passes = fullText === "York County Court of Common Pleas\r\nCourt Summary\r\nDavis, Adam M. Etters, PA  17319\r\nAliases:\r\nAdam Davis\r\nAdam M. Davis\r\nAdam Michael Davis DOB: 04/12/1990\r\nRace: WhiteHair: BrownEyes: GreenSex: Male\r\nClosed Dauphin CP-22-CR-0003252-2013\r\nArrest Dt: OTN:L7860020 DC No: Proc Status: Sentenced/Penalty Imposed\r\nDisp Judge: Lewis, Richard A. Disp Date: 06/29/2015\r\nDef Atty: Padilla, Veronica Rae - (PD)\r\nSeq No Statute Grade Description Disposition\r\nSentence Type Program Period Sentence Length Sentence Dt.\r\nInt Poss Contr Subst By Per Not Reg M35 § 780-113 §§ A16  1 Guilty Plea\r\nProbation Min: 60 Day(s) Max: 60 Day(s) Other 06/29/2015\r\nUse/Poss Of Drug Paraph M35 § 780-113 §§ A32  2 Guilty Plea\r\nProbation Min: 60 Day(s) Max: 60 Day(s) Other 06/29/2015\r\nObstructed Window S75 § 4524 §§ C 3 Withdrawn\r\nOperat Veh W/O Valid Inspect S75 § 4703 §§ A 4 Withdrawn (Lower Court)\r\nYork CP-67-CR-0008224-2015\r\nArrest Dt: 11  /18/2015 OTN:T7276006 DC No: Proc Status: Sentenced/Penalty Imposed\r\nDisp Judge: Bortner, Michael E. Disp Date: 04/12/2016\r\nDef Atty: White, Eric Wayne - (PD)\r\nSeq No Statute Grade Description Disposition\r\nSentence Type Program Period Sentence Length Sentence Dt.\r\nOther Reason Access Device Is Unauth By Issuer M1 18 § 4106 §§ A1IV  1 Guilty Plea - Negotiated\r\nProbation Min: 12 Month(s) Max: 12 Month(s) 12 months 04/12/2016\r\nBad Checks M3 18 § 4105 §§ A1  2 Nolle Prossed\r\nPrinted: 6/27/ 2019 11 :14 AM CPCMS 3541 1\r\nRecent  entries  made  in  the  court  filing  offices  may  not  be  immediately  reflected  on  the  court  summary  report.  Neither  the  courts  of  the  Unified  Judicial System   of   the   Commonwealth   of   Pennsylvania   nor   the   Administrative   Office   of   Pennsylvania   Courts   assume   any   liability   for   inaccurate   or   delayed data ,   errors   or   omissions   on   these   reports.   Court   Summary   Report   information   should   not   be   used   in   place   of   a   criminal   history   background   check which  can  only  be  provided  by  the  Pennsylvania  State  Police.  Moreover  an  employer  who  does  not  comply  with  the  provisions  of  the  Criminal  History Record Information Act may be subject to civil liability as set forth in 18 Pa.C.S. Section 9183.\r\nPlease   note   that   if   the   offense   disposition   information   is   blank,   this   only   means   that   there   is   not   a   “final   disposition”   recorded   in   the   Common   Pleas Criminal  Court  Case  Management  System  for  this  offense.    In  such  an  instance,  you  must  view  the  public  web  docket  sheet  of  the  case  wherein  the offense is charged in order to determine what the most up -to- date disposition information is for the offense .\n\n"
  }

  console.log('Passes gets correct text @' + count + ':', passes);
  count++;

};

pdfToText(pathToPDFs, onPageDone, onFinish);
